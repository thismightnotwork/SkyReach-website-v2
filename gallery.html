<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gallery - SkyReach Virtual Airline</title>
  <link rel="icon" type="image/png" href="assets/logo.png">
  <link rel="manifest" href="manifest.json">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root { --primary: #0ea5e9; --bg-dark: #0f172a; --bg-card: #1e293b; --text-primary: #f1f5f9; --text-secondary: #94a3b8; --accent-gradient: linear-gradient(135deg, #0ea5e9 0%, #6366f1 100%); --border: rgba(148, 163, 184, 0.1); }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: var(--bg-dark); color: var(--text-primary); min-height: 100vh; }
    .navbar { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; padding: 1rem 2rem; background: rgba(30, 41, 59, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); }
    .nav-container { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
    .logo { display: flex; align-items: center; gap: 12px; text-decoration: none; }
    .logo img { height: 40px; }
    .logo-text { font-size: 1.25rem; font-weight: 700; background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .nav-links { display: flex; gap: 1.5rem; list-style: none; align-items: center; }
    .nav-links a { color: var(--text-secondary); text-decoration: none; font-weight: 500; transition: color 0.3s; font-size: 0.9rem; }
    .nav-links a:hover { color: var(--primary); }
    .btn-logout { background: transparent; border: 1px solid var(--border); color: var(--text-secondary); padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; font-size: 0.9rem; transition: all 0.3s; }
    .btn-logout:hover { background: rgba(239, 68, 68, 0.1); border-color: #ef4444; color: #ef4444; }
    main { padding-top: 100px; max-width: 1200px; margin: 0 auto; padding-left: 2rem; padding-right: 2rem; padding-bottom: 3rem; }
    .page-header { text-align: center; margin-bottom: 3rem; }
    .page-header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
    .page-header p { color: var(--text-secondary); }
    #gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem; }
    #gallery img { width: 100%; border-radius: 12px; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; }
    #gallery img:hover { transform: scale(1.03); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
    #lightbox { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: none; justify-content: center; align-items: center; z-index: 9999; cursor: pointer; }
    #lightbox img { max-width: 90%; max-height: 90%; border-radius: 8px; }
    .loading { text-align: center; padding: 3rem; color: var(--text-secondary); }
    @media (max-width: 768px) { .nav-links { display: none; } }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="logo"><img src="assets/logo.png" alt="SkyReach"><span class="logo-text">SkyReach</span></a>
      <ul class="nav-links">
        <li><a href="members/ivao-list.html">IVAO List</a></li>
        <li><a href="members/vatsim-list.html">VATSIM List</a></li>
        <li><a href="members/live-flights.html">Live Flights</a></li>
        <li><a href="members/events.html">Events</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li><a href="my-account.html">My Account</a></li>
        <li><button id="logoutBtn" class="btn-logout">Log Out</button></li>
      </ul>
    </div>
  </nav>
  <main>
    <div class="page-header"><h1>SkyReach Gallery</h1><p>Screenshots from our pilots</p></div>
    <div id="gallery"><p class="loading">Loading images...</p></div>
    <div id="lightbox" onclick="this.style.display='none'"><img id="lightbox-img" src="" alt=""></div>
  </main>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
    const firebaseConfig = { apiKey: "AIzaSyA92I8ATCslzGoveL_LFKproCkI0clq5XE", authDomain: "skyreach-login.firebaseapp.com", projectId: "skyreach-login", storageBucket: "skyreach-login.firebasestorage.app", messagingSenderId: "531909303327", appId: "1:531909303327:web:58f4b25a6b8023ef87c92a" };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    onAuthStateChanged(auth, user => { if (!user) window.location.href = 'login.html'; });
    document.getElementById('logoutBtn').onclick = () => signOut(auth).then(() => window.location.href = 'login.html');
    const gallery = document.getElementById('gallery');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    async function loadImages() {
      try {
        const res = await fetch('https://api.github.com/repos/thismightnotwork/SkyReach-website/contents/assets/images?ref=main');
        const files = await res.json();
        gallery.innerHTML = '';
        files.forEach(file => {
          if (file.type === 'file' && /\.(jpe?g|png|gif)$/i.test(file.name)) {
            const img = document.createElement('img');
            img.src = file.download_url;
            img.alt = file.name;
            img.onclick = () => { lightbox.style.display = 'flex'; lightboxImg.src = img.src; };
            gallery.appendChild(img);
          }
        });
        if (gallery.children.length === 0) gallery.innerHTML = '<p class="loading">No images found</p>';
      } catch (err) { gallery.innerHTML = '<p class="loading">Error loading images</p>'; }
    }
    loadImages();
  </script>
</body>
</html>
